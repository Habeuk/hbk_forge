(()=>{"use strict";const e=class{constructor(){this.timerScroll}addIconSvgOnItem(){document.querySelectorAll(".hbk-mega-menu .item").forEach((e=>{const t=e.querySelector(".hbk-mega-menu--items__sub"),s=e.querySelector(".hbk-mega-menu--block");if(t||s){e.appendChild(this.generateIconSvg());const t=e.querySelector(".js-open-close");this.addEventListenerToSvg(t)}}))}toggleSubMenu(){this.addIconSvgOnItem()}addEventListenerToSvg(e){const t=document.querySelector(".hbk-mega-menu"),s=e.parentElement;e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();const o=s.classList.contains("open");o?s.classList.remove("open"):s.classList.add("open"),o?t.classList.remove("has-open-item"):t.classList.add("has-open-item")}))}CloseAllItems(e){return new Promise((t=>{e.querySelectorAll(".item").forEach((e=>{e.classList.remove("open")})),setTimeout((()=>{t(!0)}),150)}))}generateIconSvg(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("viewBox","0 0 100 80"),e.setAttribute("height","20px"),e.setAttribute("width","20px"),e.setAttribute("xml:space","preserve"),e.classList.add("svg-arrow"),e.classList.add("js-open-close"),t.setAttribute("d","M 90 24.25 c 0 -0.896 -0.342 -1.792 -1.025 -2.475 c -1.366 -1.367 -3.583 -1.367 -4.949 0 L 45 60.8 L 5.975 21.775 c -1.367 -1.367 -3.583 -1.367 -4.95 0 c -1.366 1.367 -1.366 3.583 0 4.95 l 41.5 41.5 c 1.366 1.367 3.583 1.367 4.949 0 l 41.5 -41.5 C 89.658 26.042 90 25.146 90 24.25 z"),e.appendChild(t),e}generateIconClose(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("viewBox","0 0 14 14"),e.setAttribute("height","14px"),e.setAttribute("width","14px"),e.setAttribute("focusable",!1),e.classList.add("svg-close"),e.classList.add("js-close"),t.setAttribute("d","M13 13L1 1M13 1L1 13"),t.setAttribute("stroke","currentColor"),t.setAttribute("stroke-width","1.1"),t.setAttribute("fill","none"),e.appendChild(t),e}openCloseMobileMenu(e){const t=document.querySelector("body");e.classList.contains("open")?(e.classList.remove("open"),t.classList.remove("hbk-mega-menu-open")):(e.classList.add("open"),t.classList.add("hbk-mega-menu-open"))}burgerSvgAnim(e){const t=e.classList.toggle("opened");e.setAttribute("aria-expanded",t)}addIconClose(){document.querySelectorAll(".hbk-mega-menu").forEach((e=>{const t=e.querySelector(".hbk-mega-menu--items"),s=e.querySelector(".burger__button");t.appendChild(this.generateIconClose());const o=document.createElement("div");o.setAttribute("class","overlay-descktop overlay"),t.appendChild(o),t.querySelector(".overlay-descktop").addEventListener("click",(()=>{this.CloseAllItems(e)})),t.querySelector(".js-close").addEventListener("click",(()=>{this.openCloseMobileMenu(t),this.burgerSvgAnim(s)}));const n=document.createElement("div");n.setAttribute("class","overlay overlay-mobile"),e.appendChild(n),e.querySelector(".overlay-mobile").addEventListener("click",(()=>{this.openCloseMobileMenu(t),this.burgerSvgAnim(s)}))}))}clickToOpenMobileMenu(){document.querySelectorAll(".hbk-mega-menu").forEach((e=>{const t=e.querySelector(".hbk-mega-menu--items"),s=e.querySelector(".burger__button");s.addEventListener("click",(()=>{this.openCloseMobileMenu(t),this.burgerSvgAnim(s)}))}))}openModelsearch(){const e=document.querySelector("body"),t=document.querySelectorAll(".hbk-mega-menu"),s=t=>{e.classList.toggle("hbk-mega-menu-open"),t.classList.toggle("open-search")};t&&t.forEach((e=>{const t=document.createElement("div");t.setAttribute("class","overlay overlay-search"),t.appendChild(this.generateIconClose()),e.appendChild(t);const o=e.querySelector(".overlay-search .js-close");o&&o.addEventListener("click",(()=>{s(e)}));const n=e.querySelector(".hbk--icon-search");n&&n.addEventListener("click",(()=>{s(e);const t=e.querySelector(".blm-key-search");t&&t.focus()}))}))}listernerScroll(){var e=0,t=0;const s=document.querySelectorAll(".hbk-mega-menu");window.addEventListener("scroll",(function(o){t=window.scrollY,this.timerScroll&&clearTimeout(this.timerScroll),this.timerScroll=setTimeout((()=>{let o=!0;t<e&&(o=!1),function(e){s.forEach((t=>{const s=t.parentElement;if(s.classList.contains("menu-static")){const t=s.parentElement.getBoundingClientRect(),o=s.offsetHeight,n=s.getAttribute("data-fixed-top")?parseInt(s.getAttribute("data-fixed-top"))+o:o;t.top<=-n?s.classList.add(["fixed-menu"]):s.classList.remove("fixed-menu"),e?(s.classList.add("up"),s.classList.remove("down")):(s.classList.add("down"),s.classList.remove("up"))}}))}(o),e=t}),50)}))}};!function(t){t.behaviors.myModuleBehavior={attach:function(t,s){if(once("HbkMegaMenu",".hbk-mega-menu",t).length>0){const t=new e;t.toggleSubMenu(),t.addIconClose(),t.clickToOpenMobileMenu(),t.openModelsearch(),t.listernerScroll()}}}}(Drupal)})();